<!doctype html>
<html lang="zh-Hans">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>æ¯æ—¥æ¨è | Daily Picks</title>
  <style>
    body{ background:#0b0f14; color:#e8eaed; font-family:system-ui,-apple-system,Segoe UI,Roboto; margin:0; }
    a{ color:#8ab4ff; text-decoration:none; }
    .wrap{ max-width:1100px; margin:0 auto; padding:18px; }
    .card{ background:#121821; border:1px solid rgba(255,255,255,.08); border-radius:14px; padding:14px; }
    .muted{ opacity:.75; font-size:13px; }
    table{ width:100%; border-collapse:collapse; margin-top:10px; }
    th,td{ padding:10px; border-bottom:1px solid rgba(255,255,255,.08); text-align:left; font-size:14px; }
    th{ opacity:.85; font-weight:700; }
    .tag{ display:inline-block; padding:4px 8px; border-radius:999px; border:1px solid rgba(255,255,255,.12); font-size:12px; opacity:.9; }
    .table-wrap{
       width: 100%;
       overflow-x: auto;
       -webkit-overflow-scrolling: touch;
       border-radius: 12px;
       border: 1px solid rgba(255,255,255,.08);
    }

    /* ä»¤è¡¨æ ¼æœ‰è¶³å¤Ÿå®½åº¦ï¼Œæ‰‹æœºå°±ä¼šå‡ºç°æ¨ªå‘æ»‘åŠ¨ */
    .picks-table{
       width: 100%;
       min-width: 980px; /* ä½ è€Œå®¶æœ‰å¤šåˆ—ï¼šTicker/Price/RSI/5D/MA20/MA60/Entry/Stop/Reason */
       border-collapse: collapse;
    }

    /* sticky ç¬¬ä¸€åˆ—ï¼ˆTickerï¼‰ */
    .picks-table th:first-child,
    .picks-table td:first-child{
      position: sticky;
      left: 0;
      z-index: 2;
      background: rgba(8,12,20,.98); /* è·Ÿä½ æ·±è‰²èƒŒæ™¯è */
    }

    /* sticky è¡¨å¤´é‚£æ ¼è¦æ›´é«˜å±‚ */
    .picks-table th:first-child{ z-index: 3; }

    /* è¡¨å¤´å›ºå®šè§†è§‰ï¼ˆå¯é€‰ï¼‰ */
    .picks-table thead th{
      position: sticky;
      top: 0;
      z-index: 1;
      background: rgba(8,12,20,.98);
    }

    /* ç»†èŠ‚ï¼šæ‰‹æœºå­—å¤ªå¤§å°±æŒ¤ï¼Œç¨å¾®ç¼©å° */
    @media (max-width: 520px){
      .picks-table th, .picks-table td{
        font-size: 12px;
        padding: 8px 10px;
        white-space: nowrap;
      }
   }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <div style="display:flex; justify-content:space-between; align-items:flex-end; gap:12px; flex-wrap:wrap;">
        <div>
          <h2 style="margin:0;">ğŸ“Œ æ¯æ—¥è‚¡ç¥¨æ¨è | Daily Picks</h2>
          <div class="muted">
            Universe: {{ data.universe }} ï½œ Updated: {{ data.updated }}
          </div>
        </div>
        <div>
          <a class="tag" href="/">â† è¿”å›é¦–é¡µ</a>
          <a class="tag" href="/api/daily-picks" target="_blank">API JSON</a>
        </div>
      </div>

      {% if not data.ok %}
        <p style="margin-top:12px;">âŒ {{ data.error }}</p>
      {% else %}
        <p class="muted" style="margin-top:12px;">
          è§„åˆ™ï¼ˆRuleï¼‰ï¼šClose > MA20 > MA60 + RSI 50-70 + è¿‘5æ—¥ä¸Šæ¶¨ï¼ˆ5-day > 0ï¼‰
        </p>

        <div class="table-wrap">
          <table class="picks-table">
            <thead>
              <tr>
                <th>Ticker</th>
                <th>Price</th>
                <th>RSI</th>
                <th>5D%</th>
                <th>MA20</th>
                <th>MA60</th>
                <th>Entry å…¥åœºåŒº</th>   
                <th>Stop æ­¢æŸä½</th> 
                <th>Reason</th>
              </tr>
            </thead>
          <tbody>
            {% for p in data.picks %}
              <tr>
                <td><a href="/?ticker={{ p.ticker }}">{{ p.ticker }}</a></td>
                <td>{{ p.price }}</td>
                <td>{{ p.rsi }}</td>
                <td>{{ p.ret5 }}</td>
                <td>{{ p.ma20 }}</td>
                <td>{{ p.ma60 }}</td>
                <!-- â­ Entry -->
                <td>
                    ${{ p.entry_low }} ~ ${{ p.entry_high }}
                </td>

                <!-- â­ Stop -->
                <td>
                    MA: {{ p.stop_ma }}<br>
                    ATR: {{ p.stop_atr if p.stop_atr else 'â€”' }}
                </td>

                <td class="muted">{{ p.reason }}</td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
      {% endif %}
    </div>
  </div>
</body>
</html>